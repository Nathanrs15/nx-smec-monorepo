<div class="flex flex-col flex-auto w-full">
    <!-- Drawer -->
    <mat-drawer-container class="flex-auto h-full">
        <!-- Drawer -->
        <mat-drawer class="w-full md:w-90 dark:bg-gray-900" [autoFocus]="false" [mode]="drawerMode"
            [opened]="drawerOpened" [position]="'start'" #matDrawer>
            <!-- SIDEBAR CONTENR HERE-->
            <div class="flex flex-col flex-auto w-full">
                <div class="flex flex-wrap w-full max-w-screen-xl mx-auto p-6 md:p-8">
                    <!-- Title and action buttons -->
                    <div class="flex items-center justify-between w-full">
                        <div>
                            <div class="mt-2 text-3xl font-semibold tracking-tight leading-8">
                                Filtros
                            </div>
                            <!-- <div class="font-medium tracking-tight text-secondary"></div> -->
                        </div>
                        <div class="flex items-center ml-6">
                            <button mat-icon-button (click)="matDrawer.toggle()">
                                <mat-icon [svgIcon]="'heroicons_outline:x'"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <div class="w-full max-w-3xl">
                        <div class="mt-8">
                            <filters-drawer (formValues)="loadChartDataConfig($event)"></filters-drawer>
                        </div>
                    </div>
                </div>
            </div>
        </mat-drawer>
        <!-- Drawer content -->
        <mat-drawer-content class="flex flex-col overflow-hidden">
            <div class="flex flex-wrap w-full max-w-screen-xl mx-auto p-6 md:p-8">
                <!-- Title and action buttons -->
                <div class="flex items-center justify-between w-full">
                    <div>
                        <div class="text-3xl font-semibold tracking-tight leading-8">
                            Gráfica de históricos
                        </div>
                        <div class="font-medium tracking-tight text-secondary">
                            Supervisar las métricas, comprobar los informes y revisar el
                            rendimiento
                        </div>
                    </div>
                    <div class="flex items-center ml-6">
                        <button class="hidden sm:inline-flex" mat-stroked-button (click)="matDrawer.toggle()">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:filter'"></mat-icon>
                            <span class="ml-2">Filtros</span>
                        </button>
                        <button class="hidden sm:inline-flex ml-3" mat-stroked-button (click)="matDrawer.toggle()">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:cog'"></mat-icon>
                            <span class="ml-2">Ajustes</span>
                        </button>
                        <button class="hidden sm:inline-flex ml-3" mat-flat-button [color]="'primary'">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:save'"></mat-icon>
                            <span class="ml-2">Exportar</span>
                        </button>

                        <!-- Actions menu (visible on xs) -->
                        <div class="sm:hidden">
                            <button [matMenuTriggerFor]="actionsMenu" mat-icon-button>
                                <mat-icon [svgIcon]="'heroicons_outline:dots-vertical'"></mat-icon>
                            </button>
                            <mat-menu #actionsMenu="matMenu">
                                <button mat-menu-item>Exportar</button>
                                <button mat-menu-item>Ajustes</button>
                            </mat-menu>
                        </div>
                    </div>
                </div>

                <!-- Gráfica comparativa -->
                <div class="
            flex flex-col flex-auto
            mt-8
            bg-card
            shadow
            rounded-2xl
            overflow-hidden
          ">
                    <div class="flex items-start justify-between m-6 mb-0">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">
                            Gráfica comparativa
                        </div>
                        <div class="ml-2">
                            <button class="h-6 min-h-6 px-2 rounded-full bg-hover" mat-button
                                [matMenuTriggerFor]="conversionMenu">
                                <span class="font-medium text-sm text-secondary">30 days</span>
                            </button>
                            <mat-menu #conversionMenu="matMenu">
                                <button mat-menu-item>30 days</button>
                                <button mat-menu-item>3 months</button>
                                <button mat-menu-item>9 months</button>
                            </mat-menu>
                        </div>
                    </div>
                    <!-- MINI CARDS -->
                    <!--  -->

                    <div class="flex flex-col flex-auto h-80 mt-3">
                        <ng-container *ngIf="loadData$ | async">
                            <time-based-graph class="flex-auto w-full h-full" [id]="chartId" [chartConf]="chartConfig"
                                [chartData]="chartData"></time-based-graph>
                        </ng-container>
                    </div>
                </div>
            </div>
        </mat-drawer-content>
    </mat-drawer-container>
</div>
